// import fs from "fs";

export const cardWidth = 178.58205;
export const cardHeight = 249.44822;
export const cardCornerRadius = 8.5039;
const borderWidth = 0;

const fontSize = 0.15 * cardWidth;
const symbolSize: Record<Symbol, number> = {
  circle: 0.088,
  square: 0.084,
  triangle: 0.1,
  diamond: 0.1,
};
const symbolScales: Partial<Record<Value, number>> = {
  A: 4,
  "2": 3,
  "3": 2.5,
  "4": 2.5,
  "5": 2,
  "6": 1.8,
  "7": 1.8,
  "8": 1.8,
  "9": 1.6,
  "10": 1.6,
  J: 1.1,
  Q: 1.1,
  K: 1.1,
};

const symbolScaleMultiplier: Record<Symbol, number> = {
  circle: 1.2,
  square: 1.15,
  triangle: 1.2,
  diamond: 1.2,
};

const dogWidth: Record<"J" | "Q" | "K", number> = {
  J: 0.5,
  Q: 0.47,
  K: 0.63,
};

function w(numerator: number, denominator: number) {
  const offset = (cardHeight - cardWidth) / 2;
  const stepX = cardHeight / denominator;
  return stepX * numerator - offset;
}

function h(numerator: number, denominator: number) {
  const stepY = cardHeight / denominator;
  return stepY * numerator;
}

const parser = new DOMParser();
function toSvg(svg: string): SVGElement {
  return parser.parseFromString(svg, "image/svg+xml")
    .documentElement as unknown as SVGElement;
}

const symbolPositions: Partial<
  Record<Value, ([number, number] | [number, number, number])[]>
> = {
  A: [[w(1, 2), h(1, 2)]],
  "2": [
    [w(6.5, 13), h(6, 13)],
    [w(6.5, 13), h(7, 13), 180],
  ],
  "3": [
    [w(6.5, 13), h(5.5, 13)],
    [w(6.5, 13), h(6.5, 13)],
    [w(6.5, 13), h(7.5, 13), 180],
  ],
  "4": [
    [w(6, 13), h(6, 13)],
    [w(7, 13), h(6, 13)],
    [w(6, 13), h(7, 13), 180],
    [w(7, 13), h(7, 13), 180],
  ],
  "5": [
    [w(6, 13), h(5.5, 13)],
    [w(7, 13), h(5.5, 13)],
    [w(6.5, 13), h(6.5, 13)],
    [w(6, 13), h(7.5, 13), 180],
    [w(7, 13), h(7.5, 13), 180],
  ],
  "6": [
    [w(6, 13), h(5.5, 13)],
    [w(6, 13), h(6.5, 13)],
    [w(6, 13), h(7.5, 13)],
    [w(7, 13), h(5.5, 13)],
    [w(7, 13), h(6.5, 13)],
    [w(7, 13), h(7.5, 13)],
  ],
  "7": [
    [w(6, 13), h(5.5, 13)],
    [w(7, 13), h(5.5, 13)],

    [w(5.5, 13), h(6.5, 13)],
    [w(6.5, 13), h(6.5, 13)],
    [w(7.5, 13), h(6.5, 13)],

    [w(6, 13), h(7.5, 13), 180],
    [w(7, 13), h(7.5, 13), 180],
  ],
  "8": [
    [w(6, 13), h(5, 13)],
    [w(7, 13), h(5, 13)],
    [w(6, 13), h(6, 13)],
    [w(7, 13), h(6, 13)],
    [w(6, 13), h(7, 13), 180],
    [w(7, 13), h(7, 13), 180],
    [w(6, 13), h(8, 13), 180],
    [w(7, 13), h(8, 13), 180],
  ],
  "9": [
    [w(6, 13), h(4.5, 13)],
    [w(7, 13), h(4.5, 13)],

    [w(6, 13), h(5.5, 13)],
    [w(7, 13), h(5.5, 13)],

    [w(6.5, 13), h(6.5, 13)],

    [w(6, 13), h(7.5, 13), 180],
    [w(7, 13), h(7.5, 13), 180],

    [w(6, 13), h(8.5, 13), 180],
    [w(7, 13), h(8.5, 13), 180],
  ],
  "10": [
    [w(6, 13), h(4.5, 13)],
    [w(7, 13), h(4.5, 13)],

    [w(6, 13), h(5.5, 13)],
    [w(7, 13), h(5.5, 13)],

    [w(6, 13), h(6.5, 13)],
    [w(7, 13), h(6.5, 13)],

    [w(6, 13), h(7.5, 13), 180],
    [w(7, 13), h(7.5, 13), 180],

    [w(6, 13), h(8.5, 13), 180],
    [w(7, 13), h(8.5, 13), 180],
  ],
};

const HaskieWidth = 434.09;
const HaskieHeight = 566.52;
function Haskie(opts: { width: number; height: number; x: number; y: number }) {
  let { width, height, x, y } = opts;

  return `
  <g transform="translate(${x}, ${y})">
<svg width="${width}" height="${height}" viewBox="0 0 434.09 566.52" xmlns="http://www.w3.org/2000/svg">
  <defs/>
  <g id="Tail">
    <path d="M303.18,482.55c-4.48-39.13,4.78-60.96,14.77-73.84,8.28-10.67,18.03-16.46,28.52-33.61,9.2-15.05,13.27-29.55,15.28-39.72,2.36,2.01,7.15,6.66,9.67,14.26,1.67,5.01,1.72,9.42,1.53,12.22,2.85-2.58,7.93-7.97,10.18-16.29,4.86-17.94-7.96-32.77-9.17-34.12,8.94,4.43,31.58,17.15,44.81,43.79,15.02,30.25,16.05,74.68-13.24,105.92-25.68,27.38-66.58,36-102.35,21.39Z" fill="#b9937e" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M302.93,481.6c1.57-11.68,6.12-33.63,21.58-56.05,12.57-18.24,27.18-29.3,36.55-35.3-.93,3.37-1.89,8.62-1.02,14.89.41,2.99,1.15,5.57,1.92,7.67,5.82-2.53,13.12-6.44,20.53-12.57,13.54-11.19,20.56-24.06,24.01-31.82,5.2,12.38,9.93,30.49,4.73,49.62-10.08,37.03-53.86,64.64-108.28,63.56Z" fill="#fff"/>
  </g>
  <g id="Body">
    <path d="M120.51,345.71v180.47H25.8c.04-5.53.59-14.54,3.58-24.47,4.41-14.62,11.53-22.71,14.85-26,.84-13.74,4.07-45.68,19.97-76.47,20.42-39.55,48.04-50.68,56.31-53.53Z" fill="#ef5350" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M262.19,345.71v180.47h94.71c-.04-5.53-.59-14.54-3.58-24.47-4.41-14.62-11.53-22.71-14.85-26-.84-13.74-4.07-45.68-19.97-76.47-20.42-39.55-48.04-50.68-56.31-53.53Z" fill="#ef5350" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M362.7,539.78H20c-11.05,0-20-8.95-20-20s8.95-20,20-20h342.7c11.05,0,20,8.95,20,20s-8.95,20-20,20Z" fill="#fff"/>
    <path d="M362.7,539.78H20c-11.05,0-20-8.95-20-20s8.95-20,20-20h342.7c11.05,0,20,8.95,20,20s-8.95,20-20,20Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M307.28,520.13c10.44-40.3,6.85-72.14-7.93-79.41-2.93-1.44-7.34-2.43-13.97-.77H98.1c-6.63-1.66-11.04-.68-13.97.77-14.78,7.27-18.36,39.12-7.93,79.41" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M284.92,511.54c14.4-8.14,30.51-3.18,36.94,8.75,6.52,12.08.5,26.46,0,27.62-21.75.31-43.51.61-65.26.92H126.89c-21.75-.31-43.51-.61-65.26-.92-.5-1.16-6.52-15.54,0-27.62,6.44-11.92,22.54-16.88,36.94-8.75" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M270.15,509.64c5.84-9.98,14.12-26.95,17.62-49.62,3.76-24.29.34-44.23-2.52-55.76,1.95.15,4.37.53,7.05,1.41,1.63.54,3.06,1.17,4.28,1.79-1.66-4.31-4.55-10.38-9.57-16.62-4.91-6.11-10.08-10.15-13.84-12.66,2.08-.16,4.7-.18,7.68.26,2.45.36,4.57.94,6.29,1.53-2.75-3.17-7.02-7.4-13.09-11.13-5.51-3.39-10.66-5.23-14.47-6.27H123.9c-3.82,1.04-8.96,2.88-14.47,6.27-6.07,3.73-10.34,7.95-13.09,11.13,1.72-.6,3.84-1.18,6.29-1.53,2.98-.44,5.6-.42,7.68-.26-3.77,2.51-8.93,6.55-13.84,12.66-5.02,6.24-7.91,12.32-9.57,16.62,1.22-.62,2.64-1.25,4.28-1.79,2.68-.88,5.1-1.26,7.05-1.41-2.86,11.53-6.27,31.46-2.52,55.76,3.5,22.67,11.78,39.64,17.62,49.62" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M113.34,509.64c-2.92-4.99-6.45-11.73-9.69-20.04-3.24-8.33-6.18-18.24-7.93-29.57-1.88-12.14-1.96-23.2-1.22-32.66.73-9.46,2.31-17.33,3.73-23.1-.97.08-2.06.2-3.25.43-1.18.23-2.46.54-3.8.98-.81.27-1.58.56-2.29.86-.72.31-1.37.62-1.99.93.83-2.16,1.97-4.75,3.53-7.58,1.55-2.84,3.53-5.91,6.04-9.03,2.45-3.06,4.98-5.6,7.35-7.69,2.38-2.09,4.61-3.72,6.49-4.98-1.04-.09-2.22-.13-3.5-.09-1.29.03-2.68.13-4.18.35-1.23.18-2.37.42-3.42.68s-2.01.55-2.87.85c1.37-1.59,3.13-3.43,5.3-5.35,2.16-1.92,4.76-3.91,7.79-5.77,2.75-1.7,5.42-3,7.87-4.01,2.45-1.01,4.69-1.74,6.6-2.26h19.24c-9.25,9.95-22.76,27.22-31.07,52.05-14.62,43.69-3.38,81.68,1.26,95.01Z" fill="#b9937e"/>
    <path d="M270.15,509.64c2.92-4.99,6.45-11.73,9.69-20.04,3.24-8.33,6.18-18.24,7.93-29.57,1.88-12.14,1.96-23.2,1.22-32.66-.73-9.46-2.31-17.33-3.73-23.1.97.08,2.06.2,3.25.43,1.18.23,2.46.54,3.8.98.81.27,1.58.56,2.29.86.72.31,1.37.62,1.99.93-.83-2.16-1.97-4.75-3.53-7.58-1.55-2.84-3.53-5.91-6.04-9.03-2.45-3.06-4.98-5.6-7.35-7.69-2.38-2.09-4.61-3.72-6.49-4.98,1.04-.09,2.22-.13,3.5-.09,1.29.03,2.68.13,4.18.35,1.23.18,2.37.42,3.42.68s2.01.55,2.87.85c-1.37-1.59-3.13-3.43-5.3-5.35-2.16-1.92-4.76-3.91-7.79-5.77-2.75-1.7-5.42-3-7.87-4.01-2.45-1.01-4.69-1.74-6.6-2.26h-19.24c9.25,9.95,22.76,27.22,31.07,52.05,14.62,43.69,3.38,81.68-1.26,95.01Z" fill="#b9937e"/>
    <path d="M270.15,509.64c5.84-9.98,14.12-26.95,17.62-49.62,3.76-24.29.34-44.23-2.52-55.76,1.95.15,4.37.53,7.05,1.41,1.63.54,3.06,1.17,4.28,1.79-1.66-4.31-4.55-10.38-9.57-16.62-4.91-6.11-10.08-10.15-13.84-12.66,2.08-.16,4.7-.18,7.68.26,2.45.36,4.57.94,6.29,1.53-2.75-3.17-7.02-7.4-13.09-11.13-5.51-3.39-10.66-5.23-14.47-6.27H123.9c-3.82,1.04-8.96,2.88-14.47,6.27-6.07,3.73-10.34,7.95-13.09,11.13,1.72-.6,3.84-1.18,6.29-1.53,2.98-.44,5.6-.42,7.68-.26-3.77,2.51-8.93,6.55-13.84,12.66-5.02,6.24-7.91,12.32-9.57,16.62,1.22-.62,2.64-1.25,4.28-1.79,2.68-.88,5.1-1.26,7.05-1.41-2.86,11.53-6.27,31.46-2.52,55.76,3.5,22.67,11.78,39.64,17.62,49.62" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M125.67,404.59c.84,3.73,2.72,9.73,7.17,15.86,3.24,4.45,6.77,7.49,9.44,9.44,2.72,8.74,5.46,20.88,5.66,35.49.28,20.36-4.5,36.64-8.37,46.73" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M191.74,429.51v132.01h-81.8c-1.68-5.14-5.6-19.26,0-31.24,7.99-17.07,33.05-24.94,58.51-11.36" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M191.74,429.51v132.01h81.8c1.68-5.14,5.6-19.26,0-31.24-7.99-17.07-33.05-24.94-58.51-11.36" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M257.82,404.59c-.84,3.73-2.72,9.73-7.17,15.86-3.24,4.45-6.77,7.49-9.44,9.44-2.72,8.74-5.46,20.88-5.66,35.49-.28,20.36,4.5,36.64,8.37,46.73" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M191.74,429.51v132.01h81.8c1.68-5.14,5.6-19.26,0-31.24-7.99-17.07-33.05-24.94-58.51-11.36" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
  </g>
  <g id="Collar">
    <path d="M191.74,344.73h-81.88c0,81.24,51.87,78.82,81.88,124.29,30.01-45.47,81.88-43.05,81.88-124.29h-81.88Z" fill="#ef5350" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M191.74,486.79c-5.97,0-11.55-3-14.84-7.98-8.69-13.16-19.88-21.82-31.73-30.98-24.89-19.24-53.1-41.05-53.1-103.11,0-9.82,7.96-17.78,17.78-17.78h163.77c9.82,0,17.78,7.96,17.78,17.78,0,62.05-28.21,83.86-53.1,103.11-11.85,9.16-23.04,17.82-31.73,30.98-3.29,4.98-8.86,7.98-14.84,7.98ZM128.68,362.5c3.96,30.69,18.8,42.17,38.25,57.2,7.97,6.16,16.59,12.83,24.82,21.23,8.23-8.41,16.85-15.07,24.82-21.23,19.44-15.04,34.29-26.51,38.25-57.2h-126.13Z" fill="#fff"/>
    <path d="M191.74,486.79c-5.97,0-11.55-3-14.84-7.98-8.69-13.16-19.88-21.82-31.73-30.98-24.89-19.24-53.1-41.05-53.1-103.11,0-9.82,7.96-17.78,17.78-17.78h163.77c9.82,0,17.78,7.96,17.78,17.78,0,62.05-28.21,83.86-53.1,103.11-11.85,9.16-23.04,17.82-31.73,30.98-3.29,4.98-8.86,7.98-14.84,7.98ZM128.68,362.5c3.96,30.69,18.8,42.17,38.25,57.2,7.97,6.16,16.59,12.83,24.82,21.23,8.23-8.41,16.85-15.07,24.82-21.23,19.44-15.04,34.29-26.51,38.25-57.2h-126.13Z" fill="#fff"/>
    <path d="M191.74,486.79c-5.97,0-11.55-3-14.84-7.98-8.69-13.16-19.88-21.82-31.73-30.98-24.89-19.24-53.1-41.05-53.1-103.11,0-9.82,7.96-17.78,17.78-17.78h163.77c9.82,0,17.78,7.96,17.78,17.78,0,62.05-28.21,83.86-53.1,103.11-11.85,9.16-23.04,17.82-31.73,30.98-3.29,4.98-8.86,7.98-14.84,7.98ZM128.68,362.5c3.96,30.69,18.8,42.17,38.25,57.2,7.97,6.16,16.59,12.83,24.82,21.23,8.23-8.41,16.85-15.07,24.82-21.23,19.44-15.04,34.29-26.51,38.25-57.2h-126.13Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <circle cx="191.74" cy="465.49" r="24.55" fill="#ffb74d" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M179.97,473.1c.14-.14,2.51-.35,2.51-.35l-.49-14.39s-2.02.07-2.19-.11c-.18-.17.14-5.09.14-5.09l10.07.17.24,4.95-2.44.24.17,3.83,6.72.31-.07-4.28s-2.02-.21-2.06-.21c-.03,0-.45-2.68-.35-4.77,3.48-1.04,11.46.1,11.46.1,0,0-.1,4.77-.17,4.77s-2.58.42-2.58.42l.45,13.76,2.4.28v4.98s-10.8.14-10.8.07-.1-5.09-.1-5.09l2.44-.24-.1-4.6-7.07-.21s-.07,5.09.11,5.09,2.33-.14,2.33.1.49,4.6.31,4.67c-.17.07-10.48.38-10.87-.17-.38-.56-.21-4.11-.07-4.25Z" fill="#263238"/>
  </g>
  <g id="Head">
    <path d="M307.09,240.98l-.18-.06c2.21,6.76,4.34,14.88,5.78,24.16,1.18,7.58,1.69,14.58,1.8,20.82.02,1.38.02,2.72.01,4.02-.01.79-.02,1.57-.04,2.34-1.08-1.16-2.51-2.55-4.31-3.93-1.03-.81-2.2-1.6-3.5-2.36-2.73-1.6-5.28-2.59-7.34-3.2-.07-.03-.14-.05-.21-.07,2.46,6.38,5.45,16.38,5.79,28.94.02.74.03,1.46.03,2.19,0,.6-.01,1.2-.02,1.79-.18,10.46-2.22,18.99-4.03,24.72-1.59-3.57-3.35-7.28-5.29-11.07-1.2-2.33-2.4-4.58-3.61-6.74-9.39,21.29-21.27,32.35-29.99,38.45-18.03,12.6-32.44,10.91-48.72,25.3-10.88,9.62-16.66,21.22-19.88,29.94-.23.63-.74,1.1-1.35,1.3-.21.07-.43.1-.66.1-.9,0-1.71-.55-2.02-1.4-3.21-8.72-9-20.32-19.88-29.94-16.27-14.39-30.69-12.7-48.71-25.3-8.73-6.1-20.61-17.16-29.99-38.45-.22.39-.43.78-.65,1.17-.99,1.8-1.98,3.66-2.96,5.57-1.95,3.79-3.71,7.5-5.3,11.07-1.81-5.73-3.85-14.26-4.03-24.72-.01-.59-.02-1.19-.02-1.79,0-.73.01-1.45.03-2.19.34-12.56,3.33-22.56,5.79-28.94-.07.02-.14.04-.21.07-2.06.61-4.61,1.6-7.34,3.2-1.3.76-2.47,1.56-3.51,2.36-1.79,1.39-3.22,2.77-4.29,3.93-.02-.77-.03-1.56-.04-2.36-.01-1.31-.01-2.66.01-4.04.11-6.23.61-13.22,1.79-20.78,1.44-9.28,3.57-17.4,5.79-24.16-.06.02-.12.04-.19.06-1.9.61-4.18,1.55-6.61,2.95-3.6,2.11-6.19,4.53-7.92,6.41.05-.22.09-.43.14-.65,1.87-8.54,4.56-18.14,8.54-28.41,2.39-6.2,4.96-11.86,7.55-16.99-.04-.08-.09-.16-.14-.24-3.57-6.25-8.27-16.41-8.92-29.22-.05-1.06-.08-2.09-.07-3.1.11-20.26,12.04-29.64,24.23-65.99,7.47-22.26,5.14-25.13,12.46-40.4.51-1.07,1.03-2.11,1.56-3.14,6.9-13.45,26.43-12.19,31.74,1.97,2.42,6.43,5.34,11.5,8.23,15.52,9.73,13.5,12.19,16.58,18.13,28.32,2.55,5.04,5.62,12.47,7.44,22.46.72-.14,1.47-.29,2.25-.43l.2-.04c.94-.15,5.19-.36,10.95-.54,40,24.77,80,49.55,120,74.32,3.21,6.63,5.67,12.58,7.55,17.5,3.01,7.89,4.8,13.95,5.25,15.49,1.31,4.52,2.39,8.83,3.28,12.91.05.22.09.44.14.66-1.72-1.88-4.31-4.3-7.92-6.41-2.42-1.41-4.71-2.34-6.61-2.95Z" fill="#b9937e" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M115.09,83.57c8.19,7.17,14.1,13.94,18.14,19.08,3.54,4.51,6.74,8.32,9.43,14.29,2.97,6.61,4.67,12.83,5.67,18.13-4.23-.96-10.65-1.9-18.37-1.01-8.99,1.04-15.83,4.09-19.88,6.3,1.55.69,4.3,2.16,6.79,5.04,2.34,2.7,3.41,5.44,3.9,7.05-5.74,3.37-12.9,8.37-20.01,15.6-.87.89-1.7,1.77-2.51,2.65-3.79,4.15-6.81,8.2-9.2,11.8-1.71-4.39-3.62-11.04-3.02-18.92,1.21-15.77,11.5-23.66,19.26-37.95,4.8-8.84,9.81-22.33,9.81-42.06Z" fill="#fff"/>
    <path d="M306.65,285.98c-2.82-1.65-5.45-2.66-7.55-3.27,2.45,6.37,5.45,16.38,5.79,28.94.34,12.29-1.99,22.25-4.02,28.7-1.59-3.57-3.34-7.28-5.28-11.07-1.2-2.33-2.4-4.58-3.61-6.74-9.39,21.29-21.26,32.35-29.99,38.45-18.02,12.6-32.44,10.91-48.71,25.3-10.88,9.62-16.66,21.22-19.88,29.94-.23.63-.74,1.1-1.35,1.3-.2.07-.43.1-.66.1-.9,0-1.71-.55-2.02-1.4-3.21-8.72-9-20.32-19.88-29.94-16.27-14.39-30.69-12.71-48.71-25.3-8.74-6.1-20.61-17.16-29.99-38.45-.22.39-.43.78-.65,1.18-1,1.8-1.99,3.66-2.97,5.57-1.95,3.79-3.71,7.5-5.29,11.07-2.04-6.44-4.36-16.41-4.02-28.7.34-12.56,3.33-22.57,5.79-28.94-2.1.61-4.73,1.62-7.55,3.27-1.3.76-2.46,1.56-3.5,2.36-.03-60.28,72.25-102.41,118.79-80.49,45.14-24.76,118.78,20.14,118.78,80.48-1.03-.8-2.2-1.59-3.49-2.35Z" fill="#fff"/>
    <path d="M115.09,83.57c7.54,6.8,13.58,13.39,18.14,19.08,4.84,6.05,7.99,11.09,9.43,14.29,2.97,6.61,4.67,12.83,5.67,18.13-4.23-.96-10.65-1.9-18.37-1.01-8.99,1.04-15.83,4.09-19.88,6.3,1.55.69,4.3,2.16,6.79,5.04,2.34,2.7,3.41,5.44,3.9,7.05-5.74,3.37-12.9,8.37-20.01,15.6-.87.89-1.7,1.77-2.51,2.65-3.79,4.15-6.81,8.2-9.2,11.8" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M127.06,290.07c3.39,4.08,8.71,9.25,16.42,13.02,21.87,10.67,44.16.77,47.89-.96" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M255.67,290.07c-3.39,4.08-8.71,9.25-16.42,13.02-21.87,10.67-44.16.77-47.89-.96" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M172,130.48c-4.83.97-8.4,2.04-10.82,2.88" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M191.36,302.12v-68.7" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M215.99,334.24c-2.3,1.03-5.84,2.4-10.76,3.55-.06.01-.11.03-.17.04-8.73,2.03-19.21,2.03-27.94,0-.06-.01-.11-.03-.17-.04-4.92-1.15-8.46-2.52-10.76-3.55" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/>
    <circle cx="246.69" cy="236.62" r="14.65" fill="#263238"/>
    <circle cx="136.04" cy="236.62" r="14.65" fill="#263238"/>
    <path d="M220.73,246.04c0,13.77-13.15,24.93-29.37,24.93s-29.37-11.16-29.37-24.93c0-9.66,14.44-18.03,23.07-22.17,3.98-1.91,8.61-1.91,12.59,0,8.63,4.14,23.07,12.51,23.07,22.17Z" fill="#263238" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M321.62,249.84s-.1-.1-.14-.16c-1.72-1.85-4.27-4.2-7.78-6.25-2.5-1.46-4.85-2.4-6.79-3.02l.18.57c2.15,6.65,4.2,14.57,5.6,23.59,1.21,7.79,1.72,14.97,1.8,21.33.02,1.38.02,2.72.01,4.02-.01.62-.02,1.24-.04,1.84-1.7-1.84-4.25-4.21-7.81-6.29-2.82-1.65-5.45-2.66-7.55-3.27.07.19.14.37.21.57,2.42,6.39,5.25,16.18,5.58,28.37.03.91.04,1.81.03,2.69,0,.6-.01,1.2-.02,1.79-.25,10.23-2.25,18.58-4.03,24.22-1.59-3.57-3.35-7.28-5.29-11.07-1.2-2.33-2.4-4.58-3.61-6.75-9.39,21.29-21.27,32.36-29.99,38.46-18.03,12.59-32.44,10.91-48.72,25.3-10.88,9.63-16.66,21.22-19.88,29.94-.31.84-1.12,1.4-2.01,1.4s-1.71-.56-2.02-1.4c-3.22-8.72-9-20.31-19.88-29.94-16.27-14.39-30.69-12.71-48.71-25.3-8.73-6.1-20.61-17.17-29.99-38.46-1.21,2.17-2.42,4.42-3.61,6.75-1.95,3.79-3.71,7.5-5.3,11.07-1.78-5.64-3.78-13.99-4.03-24.22-.01-.59-.02-1.19-.02-1.79-.01-.88,0-1.78.03-2.69.33-12.19,3.16-21.98,5.58-28.37.07-.2.14-.38.21-.57-2.1.61-4.73,1.62-7.55,3.27-3.55,2.08-6.1,4.45-7.8,6.29-.02-.61-.03-1.23-.04-1.86-.01-1.31-.01-2.66.01-4.04.08-6.35.58-13.52,1.79-21.29,1.4-9.02,3.45-16.94,5.6-23.59.07-.19.13-.38.19-.57-1.94.62-4.29,1.56-6.8,3.02-3.51,2.06-6.05,4.4-7.78,6.26-.05.05-.09.1-.14.15,1.87-8.7,4.6-18.54,8.68-29.06,2.35-6.09,4.87-11.67,7.41-16.73.05-.09.1-.18.14-.27-3.59-6.23-8.4-16.49-9.06-29.45-.05-.89-.07-1.75-.07-2.6.11-20.26,12.04-29.64,24.23-65.99,7.47-22.26,5.14-25.13,12.46-40.4.51-1.07,1.03-2.11,1.56-3.14,6.9-13.45,26.43-12.19,31.74,1.97,2.42,6.43,5.34,11.5,8.23,15.52,9.73,13.5,12.19,16.58,18.13,28.32,2.55,5.04,5.62,12.47,7.44,22.46.72-.14,1.47-.29,2.25-.43l.2-.04c.94-.15,5.19-.36,10.95-.54,40,24.77,80,49.55,120,74.32,2.58,5.13,5.15,10.8,7.55,17,4.07,10.52,6.81,20.36,8.67,29.06Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <path d="M178.95,191.26c-4.29-2.37-29.83-15.96-59.59-5.81-20.45,6.98-31.78,21.37-35.77,27.02,2.58.03,5.16.05,7.74.08-1.47,4.07-2.93,8.14-4.4,12.22,5.07-6.81,16.06-19.58,34.59-27.99,25.8-11.71,49.46-7.35,57.42-5.52Z" fill="#fff"/>
    <path d="M202.25,191.33c4.3-2.35,29.93-15.77,59.62-5.44,20.41,7.1,31.65,21.57,35.61,27.23-2.58,0-5.16.02-7.74.03,1.44,4.08,2.88,8.16,4.32,12.24-5.03-6.84-15.94-19.68-34.42-28.19-25.72-11.86-49.42-7.65-57.39-5.87Z" fill="#fff"/>
    <polygon points="396.25 106.09 320.21 180.48 199.38 106.59 230.96 5 263.01 70.42 334.01 22.2 323.42 107.36 396.25 106.09" fill="#fff176"/>
    <polygon points="198.796 107.151 319.62 181.047 305.632 203.918 184.808 130.022" fill="#ffb74d" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
    <polygon points="396.25 106.08 320.2 180.48 259.8 143.53 334 22.19 323.41 107.36 396.25 106.08" fill="#ffb74d"/>
    <polygon points="396.25 106.09 320.21 180.48 199.38 106.59 230.96 5 263.01 70.42 334.01 22.2 323.42 107.36 396.25 106.09" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
  </g>
</svg>
  </g>
  `;
}

const DoeWidth = 458.3;
const DoeHeight = 643.51;

function Doe(opts: { width: number; height: number; x: number; y: number }) {
  let { width, height, x, y } = opts;
  return `<g transform="translate(${x}, ${y})">
  <svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 458.3 643.51"><defs><clipPath id="clippath"><path d="M169.85,361.09C21.62,396.36,76.04,580.93,5,621.6h410.16c-71.04-40.67-16.62-225.25-164.85-260.51-26.42-6.29-54.03-6.29-80.46,0Z" fill="none"/></clipPath><clipPath id="clippath-1"><path d="M208.45,356.37h-92.13c0,91.41,58.37,88.68,92.13,139.84,33.77-51.16,92.13-48.43,92.13-139.84h-92.13Z" fill="none"/></clipPath><clipPath id="clippath-2"><path d="M254.59,81.25c-17.82,0-34,6.99-45.98,18.36-11.98-11.37-28.16-18.36-45.98-18.36-36.9,0-66.82,29.92-66.82,66.82s29.91,66.82,66.82,66.82c17.82,0,34-6.99,45.98-18.36,11.98,11.37,28.16,18.36,45.98,18.36,36.9,0,66.82-29.92,66.82-66.82s-29.91-66.82-66.82-66.82Z" fill="none"/></clipPath></defs><g id="Tail"><path d="M330.98,547.64c-4.35-38.01,4.65-59.22,14.35-71.73,9.79-12.62,16.43-17.59,27.7-32.65,16.8-22.44,23.6-45.68,26.71-61.83,8.68,4.3,30.68,16.66,43.53,42.54,14.6,29.39,15.59,72.55-12.86,102.89-24.95,26.6-64.68,34.97-99.43,20.78Z" fill="#b0bec5" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M350.13,541.83c-5.33-.5-10.54-1.59-15.58-3.24,1.23-19.19,6.38-33.72,15.36-43.29,4.43-4.72,8.25-8.17,12.29-11.83,5.18-4.69,11.06-10.01,18.59-18.32,10.49-11.57,19.25-24.64,26.19-39.08,4.64,5.47,8.99,12.17,12.08,20.21,8.84,23.02,7.28,57.58-17.05,79.06-13.91,12.28-32.82,18.29-51.88,16.49Z" fill="#fff"/></g><g id="Body"><g clip-path="url(#clippath)"><rect x="-13.37" y="154.2" width="443.89" height="506.23" transform="translate(-198.75 615.89) rotate(-90)" fill="#94defb"/><rect x="74.64" y="154.2" width="267.86" height="506.23" transform="translate(-198.75 615.89) rotate(-90)" fill="#f5c2cc"/><rect x="163.93" y="154.2" width="89.29" height="506.23" transform="translate(-198.75 615.89) rotate(-90)" fill="#fff"/></g><path d="M169.85,361.09C21.62,396.36,76.04,580.93,5,621.6h410.16c-71.04-40.67-16.62-225.25-164.85-260.51-26.42-6.29-54.03-6.29-80.46,0Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M341.36,598.65c13.91-61.3,9.13-109.73-10.57-120.8-3.91-2.2-9.78-3.69-18.62-1.17H107.98c-8.84-2.52-14.71-1.03-18.62,1.17-19.69,11.07-24.47,59.5-10.57,120.8" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M306.61,569.39h0c22.52-41.42,29.35-93.76,18.45-140.42,2.72.22,6.64-.22,9.11-.92-11.78-30.35-33.9-52.06-63.97-54.63h-60.11s-60.11,0-60.11,0c-30.07,2.57-52.19,24.28-63.97,54.63,2.47.7,6.39,1.14,9.11.92-10.9,46.66-4.07,99,18.45,140.41h0s193.05,0,193.05,0Z" fill="#fff"/><path d="M114.32,569.38c-2.1-3.87-4.07-7.83-5.88-11.87-1.08-2.37-2.11-4.77-3.08-7.2-.9-2.22-1.75-4.45-2.56-6.71-.46-1.27-.9-2.54-1.33-3.82-.49-1.43-.94-2.86-1.39-4.3-.31-.98-.61-1.97-.9-2.96-1.75-5.96-3.24-12.01-4.45-18.14-.37-1.85-.71-3.7-1.02-5.56-.24-1.38-.46-2.77-.66-4.16-.25-1.64-.47-3.29-.67-4.95-.2-1.54-.38-3.08-.52-4.62-1.29-12.68-1.42-25.5-.37-38.17.31-3.79.73-7.56,1.26-11.31.4-2.8.85-5.58,1.37-8.35.51-2.78,1.09-5.54,1.73-8.29-2.72.22-6.64-.22-9.11-.92,10.15-28.58,33.91-52.06,63.97-54.63-48.25,47.93-55.89,151.87-36.41,195.96Z" fill="#b0bec5"/><path d="M324.47,580.23c8.54.04,16.54,2.09,23.18,5.77,6.64,3.68,11.93,8.98,15.03,15.52,1.77,3.71,2.62,7.38,2.96,10.68s.18,6.23-.09,8.47c-12.1.17-21.36.34-30.62.51-9.26.17-18.52.34-30.62.51H114.74c-12.1-.17-21.36-.34-30.62-.51-9.26-.17-18.52-.34-30.62-.51-.27-2.24-.44-5.17-.09-8.47.34-3.3,1.19-6.97,2.96-10.68,3.11-6.54,8.39-11.84,15.03-15.52,6.64-3.68,14.64-5.73,23.18-5.77" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M279.33,466.29c-9.01,16.02-21.1,42.64-24.09,77.18-1.88,21.75.39,40.39,3.32,54.39" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M210.08,518.7v119.82h78.67c-.13-5.39-1.21-15.65-7.92-25.56-14.73-21.75-42.73-21.39-45.13-21.32" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M305.83,569.38c2.1-3.87,4.07-7.83,5.88-11.87,1.08-2.37,2.11-4.77,3.08-7.2.9-2.22,1.75-4.45,2.56-6.71.46-1.27.9-2.54,1.33-3.82.49-1.43.94-2.86,1.39-4.3.31-.98.61-1.97.9-2.96,1.75-5.96,3.24-12.01,4.45-18.14.37-1.85.71-3.7,1.02-5.56.24-1.38.46-2.77.66-4.16.25-1.64.47-3.29.67-4.95.2-1.54.38-3.08.52-4.62,1.29-12.68,1.42-25.5.37-38.17-.31-3.79-.73-7.56-1.26-11.31-.4-2.8-.85-5.58-1.37-8.35-.51-2.78-1.09-5.54-1.73-8.29,2.72.22,6.64-.22,9.11-.92-10.15-28.58-33.91-52.06-63.97-54.63,48.25,47.93,55.89,151.87,36.41,195.96Z" fill="#b0bec5"/><path d="M306.61,569.39h0c22.52-41.42,29.35-93.76,18.45-140.42,2.72.22,6.64-.22,9.11-.92-11.78-30.35-33.9-52.06-63.97-54.63h-60.11s-60.11,0-60.11,0c-30.07,2.57-52.19,24.28-63.97,54.63,2.47.7,6.39,1.14,9.11.92-10.9,46.66-4.07,99,18.45,140.41h0" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/></g><g id="Collar"><g clip-path="url(#clippath-1)"><rect x="108.99" y="248.04" width="198.91" height="514.89" transform="translate(416.9 1010.98) rotate(180)" fill="#94defb"/><rect x="148.43" y="248.04" width="120.03" height="514.89" transform="translate(416.9 1010.98) rotate(180)" fill="#f5c2cc"/><rect x="188.44" y="248.04" width="40.01" height="514.89" transform="translate(416.9 1010.98) rotate(180)" fill="#fff"/></g><path d="M208.45,356.37h-92.13c0,91.41,58.37,88.68,92.13,139.84,33.77-51.16,92.13-48.43,92.13-139.84h-92.13Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><circle cx="208.45" cy="518.68" r="24.55" fill="#ffb74d" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M198.63,530.4c.03.07-.49-5.64-.28-5.82s2.75-.35,2.75-.35l.38-12.02s-2.68.24-2.75.24-1.04-5.71-.8-5.89,3.45-1.01,8.12-.87c5.19.1,14.07-.49,14.07,12.54,0,11.29-5.82,12.79-11.91,12.79-3.59,0-9.37-.7-9.58-.63ZM213.02,518.52c0-7.04-3.73-6.31-5.19-6.17-.17,3-.49,10.31-.24,12.26,2.82.35,5.44-.66,5.44-6.1Z" fill="#263238"/></g><g id="Head"><path d="M342.26,295.42h0c-2.81.87-6.55,1.73-11.01,1.98-4,.22-7.46-.11-10.16-.56.5,1.26,1,2.6,1.49,4.03.25.71.5,1.44.74,2.19.32.98.64,2,.95,3.05.15.49.29.99.43,1.5.14.51.28,1.02.42,1.54.25.97.5,1.96.74,2.97.21.88.4,1.76.59,2.67.1.46.19.91.28,1.38.32,1.59.61,3.24.86,4.94.1.64.17,1.27.25,1.9.02.1.03.2.04.3.05.36.09.72.14,1.08.04.36.08.71.12,1.07.04.36.07.71.11,1.06.03.35.06.7.1,1.04h0c.06.71.11,1.39.16,2.07.1,1.36.17,2.69.21,3.98v.08c.04,1.25.06,2.47.06,3.65,0,3.25-.14,6.23-.35,8.89-2.22.36-5.17.61-8.61.28-3.96-.36-7.18-1.36-9.46-2.25-.94,2.64-2.14,5.73-3.65,9.15-.01,0-.01.02-.01.03,0,.02-.02.05-.04.07-20.46,40.91-78.01,34.23-98.2,84.46-20.2-50.26-77.81-43.54-98.24-84.53,0,0,0-.02,0-.03-1.51-3.42-2.71-6.51-3.65-9.15-2.28.89-5.5,1.89-9.46,2.25-3.44.33-6.39.08-8.61-.28-.53-6.65-.62-15.26.85-25.12,1.47-9.86,4.05-18.06,6.49-24.27-2.7.45-6.16.78-10.16.56-4.46-.25-8.2-1.11-11.01-1.98.24-8.68,1.34-19.63,4.52-31.89,3.78-14.62,9.26-26.32,14.04-34.77-3.64-10.4-9.01-30.22-5.01-53.87,7.81-46.29,47.47-83.32,61.81-77.45,6.28,2.57,4.24,11.95,16.66,35.12,4.9,9.14,9.86,16.33,13.61,21.34.96-.29,1.97-.58,3.05-.86.56-.15,1.13-.3,1.71-.44,0,0,.02,0,.02,0,.58-.14,1.18-.29,1.79-.42.01,0,.01,0,.02,0,.92-.21,1.87-.41,2.86-.6.33-.06.66-.13,1-.19.48-.09.97-.18,1.47-.26.68-.12,1.38-.23,2.08-.33.62-.09,1.24-.18,1.87-.26.77-.1,1.54-.19,2.33-.27s1.6-.15,2.42-.22c.81-.06,1.64-.12,2.48-.16h0c.84-.04,1.69-.08,2.56-.1h.14c.73-.02,1.45-.03,2.16-.03h.41c.14,0,.29,0,.43,0,.59,0,1.16.01,1.74.02,1.63.04,3.22.12,4.76.24.48.03.96.07,1.43.11.61.05,1.21.11,1.81.18.42.04.84.09,1.26.14,2.17.26,4.22.58,6.16.94.57.11,1.13.22,1.67.33.7.14,1.38.29,2.05.44.88.2,1.74.4,2.56.61,1.47.38,2.83.76,4.09,1.14,3.75-5.01,8.71-12.2,13.61-21.34,12.42-23.17,10.38-32.55,16.66-35.12,14.34-5.87,54,31.16,61.81,77.45,2.69,15.9,1.14,30.06-1.26,40.8-.25,1.12-.51,2.21-.78,3.25-.27,1.05-.54,2.06-.81,3.02-.18.64-.36,1.26-.55,1.87h0c-.31,1.03-.62,2-.92,2.9-.23.71-.46,1.39-.68,2.03.22.4.45.8.67,1.21.45.82.91,1.67,1.37,2.54.24.44.47.89.7,1.34.3.6.62,1.22.93,1.85,2.18,4.4,4.38,9.41,6.39,14.99,1.44,3.99,2.79,8.27,3.97,12.84,1.79,6.9,2.92,13.38,3.61,19.28.15,1.3.29,2.59.4,3.84.11,1.25.21,2.47.28,3.65.03.44.05.89.08,1.32.08,1.31.13,2.58.16,3.8Z" fill="#b0bec5"/><path d="M321.08,296.84c.5,1.26,1,2.6,1.49,4.03.25.71.5,1.44.74,2.19.32.98.64,2,.95,3.05.15.49.29.99.43,1.5.14.51.28,1.02.42,1.54.25.97.5,1.96.74,2.97.41,1.75.79,3.56,1.13,5.45.11.56.21,1.13.3,1.71.1.6.2,1.21.29,1.83.11.74.21,1.47.3,2.2.1.72.18,1.44.26,2.15.08.71.14,1.41.21,2.1h0c.06.71.11,1.39.16,2.07.1,1.36.17,2.69.21,3.98.04,1.28.06,2.52.06,3.73,0,3.25-.14,6.23-.35,8.89-2.22.36-5.17.61-8.61.28-3.96-.36-7.18-1.36-9.46-2.25-.94,2.64-2.14,5.73-3.65,9.15-.01.01-.01.02-.01.03-20.43,40.99-78.04,34.27-98.24,84.53-20.21-50.27-77.84-43.54-98.25-84.56-1.51-3.42-2.71-6.51-3.65-9.15-2.28.89-5.5,1.89-9.46,2.25-3.44.33-6.39.08-8.61-.28-.53-6.65-.62-15.26.85-25.12,1.47-9.86,4.05-18.06,6.49-24.27-2.7.45-6.16.78-10.16.56-4.46-.25-8.2-1.11-11.01-1.98,46.85-20.88,69.6-88.63,133.8-53.62,64.2-35.01,86.95,32.74,133.8,53.62-2.81.87-6.55,1.73-11.01,1.98-4,.22-7.46-.11-10.16-.56Z" fill="#fff"/><path d="M321.08,296.84c.5,1.26,1,2.6,1.49,4.03.25.71.5,1.44.74,2.19.32.98.64,2,.95,3.05.15.49.29.99.43,1.5.14.51.28,1.02.42,1.54.25.97.5,1.96.74,2.97.21.88.4,1.76.59,2.67.1.46.19.91.28,1.38.09.46.18.93.26,1.4.11.56.21,1.13.3,1.71.1.6.2,1.21.29,1.83.09.64.18,1.27.26,1.9.02.1.03.2.04.3.05.36.09.72.14,1.08.04.36.08.71.12,1.07.04.36.07.71.11,1.06.03.35.06.7.1,1.04h0c.06.71.11,1.39.16,2.07.1,1.36.17,2.69.21,3.98v.08c.04,1.25.06,2.47.06,3.65,0,3.25-.14,6.23-.35,8.89-2.22.36-5.17.61-8.61.28-3.96-.36-7.18-1.36-9.46-2.25-1.03,3.3-2.25,6.33-3.65,9.15-.01.01-.01.02-.01.03,0,.02-.02.05-.04.07-20.46,40.91-78.01,34.23-98.2,84.46-20.2-50.26-77.81-43.54-98.24-84.53,0-.01,0-.02,0-.03-1.4-2.82-2.62-5.85-3.65-9.15-2.28.89-5.5,1.89-9.46,2.25-3.44.33-6.39.08-8.61-.28-.53-6.65-.62-15.26.85-25.12,1.47-9.86,4.05-18.06,6.49-24.27-2.7.45-6.16.78-10.16.56-4.46-.25-8.2-1.11-11.01-1.98.24-8.68,1.34-19.63,4.52-31.89,3.78-14.62,9.26-26.32,14.04-34.77-3.64-10.4-9.01-30.22-5.01-53.87,7.81-46.29,47.47-83.32,61.81-77.45,6.28,2.57,4.24,11.95,16.66,35.12,4.9,9.14,9.86,16.33,13.61,21.34.96-.29,1.97-.58,3.05-.86.55-.15,1.13-.3,1.71-.44,0,0,.02,0,.02,0,.58-.14,1.18-.28,1.79-.42.01,0,.01-.01.02-.01.92-.21,1.87-.41,2.86-.6.33-.06.66-.13,1-.19.48-.09.97-.18,1.47-.26.68-.12,1.38-.23,2.08-.33.62-.09,1.24-.18,1.87-.26.77-.1,1.54-.19,2.33-.27s1.6-.15,2.42-.22c.81-.06,1.64-.12,2.48-.16h0c.84-.04,1.69-.08,2.56-.1h.14c.73-.02,1.45-.03,2.16-.03h.41c.14,0,.29,0,.43.01.59,0,1.16.01,1.74.02,1.63.04,3.22.12,4.76.24.48.03.96.07,1.43.11.61.05,1.21.11,1.81.18.42.04.84.09,1.26.14,2.17.26,4.22.58,6.16.94.57.11,1.13.22,1.67.33.7.14,1.38.29,2.05.44.89.2,1.74.41,2.56.61,1.47.38,2.83.76,4.09,1.14,3.75-5.01,8.71-12.2,13.61-21.34,12.42-23.17,10.38-32.55,16.66-35.12,14.34-5.87,54,31.16,61.81,77.45,2.69,15.9,1.14,30.06-1.26,40.8-.25,1.12-.51,2.21-.78,3.25-.27,1.05-.54,2.06-.81,3.02-.19.64-.37,1.27-.55,1.87h0c-.31,1.03-.62,2-.92,2.9-.23.71-.47,1.39-.69,2.03.23.4.45.8.68,1.21.45.82.91,1.67,1.37,2.54.24.44.47.89.7,1.34.3.6.62,1.22.93,1.85,2.18,4.4,4.38,9.41,6.39,14.99,1.44,3.99,2.79,8.27,3.97,12.84,1.79,6.9,2.92,13.38,3.61,19.28.15,1.3.29,2.59.4,3.84.11,1.25.2,2.47.28,3.65.03.44.05.89.08,1.32.06,1.31.11,2.58.15,3.8-2.81.87-6.55,1.73-11.01,1.98-4,.22-7.46-.11-10.16-.56Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M136.47,122.4c1.64,4.62,3.75,9.67,6.49,14.96,5.55,10.68,11.95,19,17.55,25.17-8.63,3.85-19.81,9.97-31.1,19.71-7.1,6.12-12.66,12.31-16.94,17.78-2.55-9.72-1.96-17.3-.64-22.86,2.94-12.33,10.07-16.95,17.15-31.76,4.26-8.92,6.36-17.05,7.48-23Z" fill="#fff"/><path d="M136.47,122.4c1.64,4.62,3.75,9.67,6.49,14.96,5.55,10.68,11.95,19,17.55,25.17-8.63,3.85-19.81,9.97-31.1,19.71-7.1,6.12-12.66,12.31-16.94,17.78" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M280.43,122.4c-1.64,4.62-3.75,9.67-6.49,14.96-5.55,10.68-11.95,19-17.55,25.17,8.63,3.85,19.81,9.97,31.1,19.71,7.1,6.12,12.66,12.31,16.94,17.78,2.55-9.72,1.96-17.3.64-22.86-2.94-12.33-10.07-16.95-17.15-31.76-4.26-8.92-6.36-17.05-7.48-23Z" fill="#fff"/><path d="M280.43,122.4c-1.64,4.62-3.75,9.67-6.49,14.96-5.55,10.68-11.95,19-17.55,25.17,8.63,3.85,19.81,9.97,31.1,19.71,7.1,6.12,12.66,12.31,16.94,17.78" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M209.53,332.86v-46.72" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M232.2,285.63c0,10.63-10.15,19.25-22.67,19.25s-22.67-8.62-22.67-19.25c0-10.63,22.67-19.25,22.67-19.25,0,0,22.67,8.62,22.67,19.25Z" fill="#263238" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M298.1,239.76c-3.52-5.82-10.92-16.23-24.11-24.22-10.7-6.48-21.33-9.02-29.77-9.89-8.08-.83-15.31,5.02-16.34,13.08l-.02.13c6.25-1.45,14.75-2.59,24.63-1.5,24.01,2.66,39.85,16.71,45.61,22.4Z" fill="#fff"/><path d="M120.96,239.76c3.52-5.82,10.92-16.23,24.11-24.22,10.7-6.48,21.33-9.02,29.77-9.89,8.08-.83,15.31,5.02,16.34,13.08l.02.13c-6.25-1.45-14.75-2.59-24.63-1.5-24.01,2.66-39.85,16.71-45.61,22.4Z" fill="#fff"/><path d="M227.86,367.84c-1.72.77-4.37,1.79-8.05,2.65-.04,0-.08.02-.12.03-6.53,1.52-14.37,1.52-20.9,0-.04,0-.08-.02-.12-.03-3.68-.86-6.33-1.88-8.05-2.65" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/><line x1="180.28" y1="153.9" x2="173.89" y2="156.03" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><line x1="236.62" y1="153.9" x2="243.01" y2="156.03" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M209.53,332.86h-29.23c-4.62,0-8.81-1.87-11.84-4.91s-4.91-7.22-4.91-11.84h0" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M209.53,332.86h29.23c4.62,0,8.81-1.87,11.84-4.91s4.91-7.22,4.91-11.84h0" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><line x1="209.53" y1="332.86" x2="233.26" y2="332.86" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M249.61,271.36c3.42-3.42,8.15-5.54,13.37-5.54s9.95,2.12,13.37,5.54" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M142.71,271.36c3.42-3.42,8.15-5.54,13.37-5.54s9.95,2.12,13.37,5.54" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><g clip-path="url(#clippath-2)"><rect x="133.97" y="-45.17" width="149.3" height="386.47" transform="translate(356.68 -60.55) rotate(90)" fill="#94defb"/><rect x="163.57" y="-45.17" width="90.1" height="386.47" transform="translate(356.68 -60.55) rotate(90)" fill="#f5c2cc"/><rect x="193.6" y="-45.17" width="30.03" height="386.47" transform="translate(356.68 -60.55) rotate(90)" fill="#fff"/></g><path d="M254.59,81.25c-17.82,0-34,6.99-45.98,18.36-11.98-11.37-28.16-18.36-45.98-18.36-36.9,0-66.82,29.92-66.82,66.82s29.91,66.82,66.82,66.82c17.82,0,34-6.99,45.98-18.36,11.98,11.37,28.16,18.36,45.98,18.36,36.9,0,66.82-29.92,66.82-66.82s-29.91-66.82-66.82-66.82Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M383.91,73.96c0,16.79-13.61,30.4-30.41,30.4-2,0-3.96-.2-5.86-.57l-19.36,97.5c9.32,1.71,16.38,9.85,16.38,19.66,0,11.04-8.95,20-20,20H92.57c-11.04,0-20-8.96-20-20,0-9.81,7.07-17.95,16.38-19.66l-19.35-97.5c-1.9.37-3.86.57-5.87.57-16.79,0-30.4-13.61-30.4-30.4s13.61-30.41,30.4-30.41,30.4,13.61,30.4,30.41c0,8.19-3.24,15.62-8.51,21.09l55.21,52.54,52.15-86.1c-8.84-5.32-14.77-15.01-14.77-26.08,0-16.73,13.53-30.32,30.24-30.41h.17c16.79,0,30.4,13.62,30.4,30.41,0,11.07-5.92,20.76-14.77,26.08l52.16,86.1,55.21-52.54c-5.27-5.47-8.52-12.9-8.52-21.09,0-16.8,13.61-30.41,30.4-30.41s30.41,13.61,30.41,30.41Z" fill="#fff176"/><path d="M383.91,73.96c0,16.79-13.61,30.4-30.41,30.4-2,0-3.96-.2-5.86-.57l-19.36,97.5c9.32,1.71,16.38,9.85,16.38,19.66,0,11.04-8.95,20-20,20h-116.21V5h.17c16.79,0,30.4,13.62,30.4,30.41,0,11.07-5.92,20.76-14.77,26.08l52.16,86.1,55.21-52.54c-5.27-5.47-8.52-12.9-8.52-21.09,0-16.8,13.61-30.41,30.4-30.41s30.41,13.61,30.41,30.41Z" fill="#ffb74d"/><path d="M353.5,43.55c-16.79,0-30.4,13.61-30.4,30.4,0,8.19,3.25,15.63,8.52,21.09l-55.21,52.54-52.16-86.1c8.85-5.32,14.77-15,14.77-26.08,0-16.79-13.61-30.4-30.4-30.4s-30.4,13.61-30.4,30.4c0,11.07,5.92,20.76,14.77,26.08l-52.16,86.1-55.21-52.54c5.27-5.47,8.52-12.9,8.52-21.09,0-16.79-13.61-30.4-30.4-30.4s-30.4,13.61-30.4,30.4,13.61,30.4,30.4,30.4c2.01,0,3.97-.2,5.87-.57l19.35,97.5c-9.32,1.71-16.38,9.85-16.38,19.66,0,11.05,8.95,20,20,20h232.09c11.05,0,20-8.95,20-20,0-9.81-7.07-17.95-16.38-19.66l19.35-97.5c1.9.37,3.86.57,5.87.57,16.79,0,30.4-13.61,30.4-30.4s-13.61-30.4-30.4-30.4Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><line x1="88.95" y1="201.29" x2="165.02" y2="201.29" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><line x1="197.2" y1="201.29" x2="328.28" y2="201.29" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><circle cx="208.62" cy="139.75" r="30.29" fill="#ff8080" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><circle cx="200.52" cy="130.9" r="5.85" fill="#fff"/></g><g id="Paw"><rect x="92.58" y="389.02" width="30" height="234.09" fill="#ffb74d"/><rect x="92.58" y="389.02" width="30" height="234.09" fill="#ffb74d"/><rect x="92.58" y="389.02" width="30" height="234.09" fill="none" stroke="#263238" stroke-miterlimit="10" stroke-width="10"/><circle cx="107.58" cy="621.42" r="17.1" fill="#fff176" stroke="#263238" stroke-miterlimit="10" stroke-width="10"/><path d="M122.83,614.32h-30.49c-5.52,0-10-4.48-10-10s4.48-10,10-10h30.49c5.52,0,10,4.48,10,10s-4.48,10-10,10Z" fill="#263238"/><path d="M122.83,614.32h-30.49c-5.52,0-10-4.48-10-10s4.48-10,10-10h30.49c5.52,0,10,4.48,10,10s-4.48,10-10,10Z" fill="#ffb74d"/><path d="M122.83,614.32h-30.49c-5.52,0-10-4.48-10-10s4.48-10,10-10h30.49c5.52,0,10,4.48,10,10s-4.48,10-10,10Z" fill="none" stroke="#263238" stroke-miterlimit="10" stroke-width="10"/><path d="M122.83,442.28h-30.49c-5.52,0-10-4.48-10-10s4.48-10,10-10h30.49c5.52,0,10,4.48,10,10s-4.48,10-10,10Z" fill="#263238"/><path d="M122.83,442.28h-30.49c-5.52,0-10-4.48-10-10s4.48-10,10-10h30.49c5.52,0,10,4.48,10,10s-4.48,10-10,10Z" fill="#ffb74d"/><path d="M122.83,442.28h-30.49c-5.52,0-10-4.48-10-10s4.48-10,10-10h30.49c5.52,0,10,4.48,10,10s-4.48,10-10,10Z" fill="none" stroke="#263238" stroke-miterlimit="10" stroke-width="10"/><circle cx="86.77" cy="513.3" r="48.16" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><circle cx="107.58" cy="381.43" r="40.85" fill="#94defb" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><circle cx="96.66" cy="369.49" r="14.05" fill="#fff"/></g></svg>
  </g>`;
}

const SageWidth = 591.49;
const SageHeight = 621.32;

function Sage(opts: { width: number; height: number; x: number; y: number }) {
  let { width, height, x, y } = opts;
  return `<g transform="translate(${x}, ${y})">
  <svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}" viewBox="0 0 591.49 621.32"><g id="Tail"><path d="M586.49,566.28h-273.74c19.02-20.36,71.05-70.4,148.51-78.08,32.17-3.19,59.65,1.82,79.75,7.75-6.86,1.21-16.49,4.03-26.29,11.12-3.17,2.3-5.92,4.72-8.27,7.08,10.52,1.2,33.38,5.31,54.94,22.68,12.69,10.22,20.52,21.48,25.1,29.45Z" fill="#546e7a"/><path d="M514.8,596.64c-3.79.84-7.73,1.66-11.81,2.45h-133.23c6.64-11.29,23.74-35.57,55.58-46.37,19.43-6.6,36.63-5.55,46.58-4.11-2.24,1.81-5.4,4.86-7.83,9.46-1.16,2.2-1.91,4.28-2.39,6.05,5.63.25,13.38,1.32,21.83,4.86,18.23,7.64,27.76,21.76,31.27,27.66Z" fill="#fff"/><path d="M586.49,566.28h-273.74c19.02-20.37,71.05-70.4,148.51-78.08,32.17-3.19,59.65,1.83,79.75,7.75-6.86,1.21-16.49,4.03-26.29,11.12-3.18,2.3-5.92,4.72-8.27,7.08,10.52,1.2,33.38,5.31,54.94,22.68,12.69,10.22,20.52,21.48,25.1,29.46Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/></g><g id="Body"><path d="M240.04,563.97H28.69c93.14-37.28,10.02-243.66,211.35-260.63v260.63Z" fill="#1565c0" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M309.99,563.97h211.35c-93.14-37.28-10.02-243.66-211.35-260.63v260.63Z" fill="#1565c0" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M187.4,571.28H5c0-12.75,10.34-23.08,23.08-23.08,6.75,0,12.81,2.89,17.03,7.5,4.22-4.61,10.29-7.5,17.03-7.5s12.81,2.89,17.03,7.5c4.22-4.61,10.29-7.5,17.03-7.5s12.81,2.89,17.03,7.5c4.22-4.61,10.28-7.5,17.03-7.5s12.81,2.89,17.03,7.5c4.22-4.61,10.28-7.5,17.02-7.5,12.75,0,23.09,10.33,23.09,23.08Z" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M546.95,571.28h-182.4c0-12.75,10.33-23.08,23.08-23.08,6.74,0,12.81,2.89,17.03,7.5,4.22-4.61,10.29-7.5,17.03-7.5s12.81,2.89,17.03,7.5c4.22-4.61,10.28-7.5,17.03-7.5s12.81,2.89,17.03,7.5c4.22-4.61,10.28-7.5,17.02-7.5s12.81,2.89,17.03,7.5c4.22-4.61,10.29-7.5,17.03-7.5,12.75,0,23.09,10.33,23.09,23.08Z" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M420.23,561.17c13.91-53.7,9.13-96.13-10.57-105.82-3.91-1.92-9.78-3.23-18.62-1.02h-226.88c-8.84-2.21-14.71-.9-18.62,1.02-19.69,9.69-24.47,52.12-10.57,105.82" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M392.55,557.95c16.01-9.05,33.92-3.53,41.08,9.72,7.25,13.43.56,29.42,0,30.71H121.58c-.56-1.29-7.25-17.28,0-30.71,7.16-13.26,25.07-18.77,41.08-9.72" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M381.98,547.53c7.78-13.29,18.81-35.91,23.48-66.12,5-32.37.46-58.93-3.35-74.3,2.6.2,5.83.7,9.39,1.87,2.18.72,4.08,1.56,5.7,2.39-2.21-5.74-6.06-13.84-12.75-22.15-6.55-8.15-13.43-13.53-18.45-16.87,2.77-.22,6.26-.24,10.23.34,3.27.48,6.09,1.25,8.39,2.05-3.66-4.23-9.36-9.86-17.44-14.83-7.34-4.51-14.2-6.96-19.29-8.35h-180.79c-5.08,1.39-11.94,3.84-19.29,8.35-8.09,4.97-13.78,10.59-17.44,14.83,2.3-.79,5.12-1.57,8.39-2.05,3.97-.58,7.46-.56,10.23-.34-5.02,3.34-11.9,8.72-18.45,16.87-6.69,8.32-10.53,16.41-12.75,22.15,1.62-.83,3.52-1.67,5.7-2.39,3.56-1.17,6.79-1.68,9.39-1.87-3.81,15.36-8.36,41.93-3.35,74.3,4.67,30.21,15.7,52.82,23.48,66.12" fill="#fff"/><path d="M173.13,547.19c-3.89-6.64-8.6-15.63-12.91-26.71-4.32-11.1-8.23-24.3-10.57-39.41-2.5-16.18-2.61-30.91-1.62-43.52.98-12.61,3.08-23.09,4.97-30.78-1.29.1-2.75.27-4.33.57-1.58.31-3.28.72-5.06,1.31-1.08.36-2.1.75-3.05,1.15-.95.41-1.83.83-2.65,1.24,1.11-2.87,2.62-6.33,4.7-10.11,2.07-3.78,4.7-7.88,8.05-12.04,3.27-4.08,6.63-7.46,9.79-10.24,3.17-2.78,6.14-4.96,8.65-6.63-1.39-.11-2.95-.17-4.67-.12-1.72.03-3.58.17-5.56.47-1.64.24-3.16.56-4.55.91-1.4.35-2.68.74-3.83,1.14,1.83-2.11,4.17-4.58,7.06-7.13,2.88-2.56,6.34-5.21,10.38-7.69,3.67-2.26,7.22-4,10.49-5.35,3.26-1.35,6.25-2.32,8.79-3.01h25.64c-12.32,13.26-30.33,36.27-41.41,69.36-19.48,58.22-4.51,108.85,1.68,126.6Z" fill="#546e7a"/><path d="M382.08,547.19c3.89-6.64,8.6-15.63,12.91-26.71,4.32-11.1,8.23-24.3,10.57-39.41,2.5-16.18,2.61-30.91,1.62-43.52-.98-12.61-3.08-23.09-4.97-30.78,1.29.1,2.75.27,4.33.57,1.58.31,3.28.72,5.06,1.31,1.08.36,2.1.75,3.05,1.15.95.41,1.83.83,2.65,1.24-1.11-2.87-2.62-6.33-4.7-10.11-2.07-3.78-4.7-7.88-8.05-12.04-3.27-4.08-6.63-7.46-9.79-10.24-3.17-2.78-6.14-4.96-8.65-6.63,1.39-.11,2.95-.17,4.67-.12,1.72.03,3.58.17,5.56.47,1.64.24,3.16.56,4.55.91,1.4.35,2.68.74,3.83,1.14-1.83-2.11-4.17-4.58-7.06-7.13-2.88-2.56-6.34-5.21-10.38-7.69-3.67-2.26-7.22-4-10.49-5.35-3.26-1.35-6.25-2.32-8.79-3.01h-25.64c12.32,13.26,30.33,36.27,41.41,69.36,19.48,58.22,4.51,108.85-1.68,126.6Z" fill="#546e7a"/><path d="M382.09,547.19c7.78-13.29,18.81-35.91,23.48-66.12,5-32.37.46-58.93-3.35-74.3,2.6.2,5.83.7,9.39,1.87,2.18.72,4.08,1.56,5.7,2.39-2.21-5.74-6.06-13.84-12.75-22.15-6.55-8.15-13.43-13.53-18.45-16.87,2.77-.22,6.26-.24,10.23.34,3.27.48,6.09,1.25,8.39,2.05-3.66-4.23-9.36-9.86-17.44-14.83-7.34-4.51-14.2-6.96-19.29-8.35h-180.79c-5.08,1.39-11.94,3.84-19.29,8.35-8.09,4.97-13.78,10.59-17.44,14.83,2.3-.79,5.12-1.57,8.39-2.05,3.97-.58,7.46-.56,10.23-.34-5.02,3.34-11.9,8.72-18.45,16.87-6.69,8.32-10.53,16.41-12.75,22.15,1.62-.83,3.52-1.67,5.7-2.39,3.56-1.17,6.79-1.68,9.39-1.87-3.81,15.36-8.36,41.93-3.35,74.3,4.67,30.21,15.7,52.82,23.48,66.12" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M187.72,420.88c1.58,4.84,4.8,12.57,11.47,20.16,4.85,5.51,9.9,9.11,13.69,11.36,4.2,13.67,8.37,31.71,9.76,53.15,1.46,22.51-.59,41.76-3.21,56.27" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M367.5,420.88c-1.58,4.84-4.8,12.57-11.47,20.16-4.85,5.51-9.9,9.11-13.69,11.36-4.2,13.67-8.37,31.71-9.76,53.15-1.46,22.51.59,41.76,3.21,56.27" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M277.61,485.16v131.16h-90.01c-1.85-5.66-6.17-21.2,0-34.38,8.79-18.79,36.37-27.45,64.39-12.5" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M277.61,485.16v131.16h90.01c1.85-5.66,6.17-21.2,0-34.38-8.79-18.79-36.37-27.45-64.39-12.5" fill="#fff" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/></g><g id="Collar"><path d="M277.61,314.54h-91.73c0,91.01,58.11,88.29,91.73,139.23,33.62-50.94,91.73-48.22,91.73-139.23h-91.73Z" fill="#1565c0" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><circle cx="275.98" cy="456.8" r="24.55" fill="#ffb74d" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M279.18,443.35s3.62-.14,5.33.59c.17.07-.42,6.79-.42,7.91,0,.52-5.43.49-5.43.35-.17-2.02-1.36-2.79-2.44-2.79-.63,0-1.92.31-1.92,1.71,0,1.25,2.61,2.02,5.19,3.55,3.1,1.81,5.71,3.66,5.71,7.94,0,3.94-3.41,6.9-6.9,6.9s-4.88-1.36-5.4-1.95c-.07.77-.14,2.16-.17,2.16-.17-.07-5.26-.31-5.26-.31-.07-.77-.07-7.04-.07-8.85,2.37-.52,4.77-.63,5.47-.52.63,2.37,2.06,3.62,3.17,3.62,1.01,0,1.92-.56,1.92-1.6,0-1.99-2.23-2.61-4.32-3.76-3.1-1.64-6.1-3.41-6.1-8.39,0-3.45,2.86-6.27,7.52-6.27,2.02,0,3.27.77,3.87,1.39l.24-1.67Z" fill="#263238"/></g><g id="Head"><path d="M396.01,182.96s0,.01,0,.01c2.89,5.71,5.75,12.02,8.41,18.92,4.54,11.72,7.58,22.67,9.66,32.36-.36-.39-.75-.8-1.19-1.23-.42-.43-.89-.88-1.39-1.33-1.67-1.51-3.73-3.12-6.23-4.58-2.79-1.62-5.41-2.67-7.58-3.36h0c2.47,7.55,4.85,16.57,6.46,26.9h0c.12.81.24,1.61.35,2.4.11.79.22,1.57.31,2.35.1.78.19,1.55.28,2.31.1.87.19,1.72.26,2.56.07.66.13,1.32.18,1.96.07.74.13,1.48.18,2.21.05.73.1,1.45.14,2.16s.08,1.42.11,2.12c.03.69.06,1.38.09,2.06.02.69.04,1.37.05,2.04.02.59.03,1.17.04,1.74.03,2.21,0,4.34-.04,6.36-.17-.18-.35-.37-.54-.57-.15-.17-.32-.34-.5-.51-.85-.87-1.86-1.79-3.02-2.72-.23-.2-.47-.39-.72-.58-1.16-.89-2.46-1.78-3.9-2.62-3.14-1.84-6.07-2.96-8.41-3.65h0c2.74,7.11,6.07,18.25,6.45,32.22.37,13.69-2.22,24.78-4.48,31.95-1.77-3.98-3.72-8.1-5.9-12.32-1.09-2.13-2.19-4.2-3.3-6.2-.23-.44-.47-.86-.72-1.3-6.86,15.55-14.91,26.2-22.38,33.6-2.49,2.47-4.92,4.58-7.21,6.39-1.32,1.03-2.58,1.96-3.8,2.81-20.05,14.02-36.11,12.15-54.22,28.17-.76.67-1.48,1.35-2.14,2.04-10.09,10.28-10.97,22.2-14.33,31.29-.09.24-.21.46-.35.65-.08.09-.16.18-.24.26,0,0-.01,0-.01.01-.08.07-.17.15-.27.21-.19.14-.41.25-.64.32-.02,0-.03.01-.05.01s-.03-.01-.05-.01c-.23-.07-.45-.18-.64-.32-.1-.06-.19-.14-.27-.21,0-.01,0-.01,0-.01-.08-.08-.16-.17-.24-.26-.14-.19-.26-.41-.35-.65-3.36-9.09-4.24-21.01-14.33-31.29-.66-.69-1.38-1.37-2.14-2.04-18.11-16.02-34.17-14.15-54.22-28.17-1.22-.85-2.48-1.78-3.8-2.81-2.29-1.81-4.72-3.92-7.21-6.39-7.47-7.4-15.52-18.05-22.38-33.6-.25.44-.49.86-.72,1.3-1.11,2-2.21,4.07-3.3,6.2-2.18,4.22-4.13,8.34-5.9,12.32-2.26-7.17-4.85-18.26-4.48-31.95.38-13.97,3.71-25.11,6.45-32.21h0c-2.34.68-5.27,1.8-8.41,3.64-1.44.84-2.74,1.73-3.9,2.62-.25.19-.49.38-.72.58-1.16.93-2.17,1.85-3.02,2.72-.18.17-.35.34-.5.51-.19.2-.37.39-.54.57-.05-2.02-.07-4.15-.04-6.36,0-.57.02-1.15.04-1.74,0-.67.03-1.35.05-2.04.03-.68.06-1.37.09-2.06.03-.7.07-1.41.11-2.12s.09-1.43.14-2.16c.05-.73.11-1.47.18-2.21.05-.64.11-1.3.18-1.96.07-.84.16-1.69.26-2.56.09-.76.18-1.53.28-2.31.09-.78.2-1.56.31-2.35.11-.79.23-1.59.35-2.39h0c1.61-10.34,3.99-19.36,6.46-26.9h0c-2.17.68-4.79,1.73-7.58,3.35-2.5,1.46-4.56,3.07-6.23,4.58-.5.45-.97.9-1.39,1.33-.44.43-.83.84-1.19,1.23,2.08-9.69,5.12-20.64,9.66-32.36,2.66-6.9,5.52-13.21,8.41-18.92,0,0,0,0,0-.01-1.48-.95-3.45-2.32-5.64-4.18,0,0-9.49-6.6-13.68-17.34-7.6-19.45,7.38-32.64,3.7-58.37,0,0-1.47-12.33-1.42-25.87,0-2.48.22-5.29.78-8.96.14-.98.3-1.95.49-2.91,2.28-12.59,20.4-18.63,29.42-9.89,2.56,2.47,5.13,4.48,7.64,6.12.54.35,1.07.68,1.59,1,.22.13.44.26.66.39,0,.01.03.02.04.03.21.12.42.24.63.36.15.08.29.16.43.24.12.06.24.13.35.19.13.07.26.14.39.21.12.06.23.12.35.18,7.99,4.15,12.23,6.27,16.42,8.9h0s.02.02.03.03c2.6,1.95,5.39,3.93,8.39,5.87,6.29,4.87,12.23,11.57,16.75,17.94s7.6,12.41,8.17,15.97c21.12-14.47,75.32-10.63,90.2,0,2.45-4.92,12.34-24.18,24.92-33.91,4.57-3.54,8.43-5.9,8.43-5.9,4.19-2.63,8.43-4.75,16.42-8.9,1.44-.75,2.92-1.61,4.44-2.6,2.51-1.64,5.08-3.65,7.64-6.12,9.02-8.74,27.14-2.7,29.42,9.89.19.96.35,1.93.49,2.91.56,3.67.77,6.48.78,8.96.05,13.54-1.42,25.87-1.42,25.87-3.68,25.73,11.3,38.92,3.7,58.37-4.19,10.74-13.68,17.34-13.68,17.34-2.19,1.86-4.16,3.23-5.64,4.18Z" fill="#546e7a"/><path d="M408.33,273.42l-.87,3.86-.1.44c-1.17-1.28-2.73-2.78-4.69-4.29-1.16-.89-2.46-1.78-3.9-2.62-3.14-1.84-6.07-2.96-8.41-3.65,2.74,7.1,6.07,18.24,6.45,32.22.37,13.69-2.22,24.78-4.48,31.95-1.77-3.98-3.72-8.1-5.9-12.32-1.09-2.13-2.19-4.2-3.3-6.2-.23-.44-.47-.87-.72-1.31-10.45,23.7-23.66,36.02-33.39,42.81-20.05,14.02-36.11,12.15-54.22,28.17-12.12,10.71-12.89,23.63-16.47,33.33-.04.11-.09.22-.14.32-.01.02-.02.04-.03.05-.05.09-.12.18-.18.27-.05.06-.1.12-.16.18-.02.03-.05.05-.08.08-.05.05-.1.1-.16.13-.05.05-.11.09-.17.13-.06.05-.13.09-.2.11-.12.07-.25.13-.38.17-.09.03-.18.06-.28.07-.14.04-.3.05-.45.05-.63,0-1.22-.24-1.65-.65-.09-.09-.17-.17-.25-.27-.15-.19-.27-.4-.35-.64-3.58-9.7-4.35-22.62-16.47-33.33-18.11-16.02-34.17-14.15-54.22-28.17-9.73-6.79-22.94-19.11-33.39-42.81-.25.44-.49.87-.72,1.31-1.11,2-2.21,4.07-3.3,6.2-2.18,4.22-4.13,8.34-5.9,12.32-2.26-7.17-4.85-18.26-4.48-31.95.38-13.98,3.71-25.12,6.45-32.22-2.34.69-5.27,1.81-8.41,3.65-1.44.84-2.74,1.73-3.9,2.62-1.96,1.51-3.52,3.01-4.7,4.29l-.09-.4-.88-3.89c0-5.68.57-11.21,1.66-16.56,11.71-57.97,83.15-95.39,130.6-73.04,46.1-25.29,118.88,14.67,130.6,73.3,1.07,5.29,1.63,10.73,1.63,16.29Z" fill="#fff"/><path d="M276.54,288.78v-76.48" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M303.96,324.54c-2.56,1.15-6.5,2.67-11.98,3.95-.06.01-.12.03-.19.04-9.72,2.26-21.39,2.26-31.11,0-.06-.01-.12-.03-.19-.04-5.48-1.29-9.42-2.8-11.98-3.95" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/><path d="M232.53,235.85c-1.1.5-2.8,1.15-5.15,1.7-.03,0-.05.01-.08.02-4.18.97-9.2.97-13.38,0-.03,0-.05-.01-.08-.02-2.36-.55-4.05-1.2-5.15-1.7" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/><path d="M344.39,235.85c-1.1.5-2.8,1.15-5.15,1.7-.03,0-.05.01-.08.02-4.18.97-9.2.97-13.38,0-.03,0-.05-.01-.08-.02-2.36-.55-4.05-1.2-5.15-1.7" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="5"/><circle cx="220.61" cy="215.86" r="11.25" fill="#263238"/><circle cx="332.47" cy="215.86" r="11.25" fill="#263238"/><path d="M256.19,163.15c-2.32-2.03-24.18-20.5-52.43-12.9-19.81,5.33-30.68,20.23-33.65,24.6,2.25.72,4.5,1.43,6.75,2.15-1.82,6.63-3.64,13.27-5.45,19.9,5.9-6.83,16.25-17.04,31.72-24.62,22.83-11.19,43.66-10.2,53.06-9.13Z" fill="#fff"/><path d="M296.88,163.15c2.32-2.03,24.18-20.5,52.43-12.9,19.81,5.33,30.68,20.23,33.65,24.6-2.25.72-4.5,1.43-6.75,2.15,1.82,6.63,3.64,13.27,5.45,19.9-5.9-6.83-16.25-17.04-31.72-24.62-22.83-11.19-43.66-10.2-53.06-9.13Z" fill="#fff"/><path d="M215.55,281.43c2.04,5.74,9.97,8.86,15.28,8.2,16.76-2.1,19.94,7.97,32.56,4.73,3.72-.95,8.08-2.87,13.13-6.45" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M337.52,281.43c-2.04,5.74-9.97,8.86-15.28,8.2-16.76-2.1-19.94,7.97-32.56,4.73-3.72-.95-8.08-2.87-13.13-6.45" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M243.87,249.83c-16.63,1.43-33.26,1.43-49.89.02-4.39-.4-9-4.19-10.56-8.73-4.2-12.7-6.69-25.11-6.4-37.15.17-5.03,5.78-10.2,10.84-10.52,20.42-1.08,41.35.29,62.69,3.34,5.5.85,10.92,6.22,10.73,11.42-.43,10.76-2.69,20.86-6.9,33.01-1.6,4.49-6.18,8.21-10.52,8.61Z" fill="#fff" opacity=".3"/><path d="M309.44,249.83c16.63,1.43,33.26,1.43,49.89.02,4.39-.4,9-4.19,10.56-8.73,4.2-12.7,6.69-25.11,6.4-37.15-.17-5.03-5.78-10.2-10.84-10.52-20.42-1.08-41.35.29-62.69,3.34-5.5.85-10.92,6.22-10.73,11.42.43,10.72,3,21.74,6.9,33.01,1.6,4.49,6.18,8.21,10.52,8.61Z" fill="#fff" opacity=".3"/><path d="M261.31,208.22c10.23-3.75,20.46-3.75,30.69,0" fill="none" stroke="#263238" stroke-miterlimit="10" stroke-width="10"/><path d="M243.87,249.83c-16.63,1.43-33.26,1.43-49.89.02-4.39-.4-9-4.19-10.56-8.73-4.2-12.7-6.69-25.11-6.4-37.15.17-5.03,5.78-10.2,10.84-10.52,20.42-1.08,41.35.29,62.69,3.34,5.5.85,10.92,6.22,10.73,11.42-.43,10.76-2.69,20.86-6.9,33.01-1.6,4.49-6.18,8.21-10.52,8.61Z" fill="none" stroke="#263238" stroke-miterlimit="10" stroke-width="10"/><path d="M309.44,249.83c16.63,1.43,33.26,1.43,49.89.02,4.39-.4,9-4.19,10.56-8.73,4.2-12.7,6.69-25.11,6.4-37.15-.17-5.03-5.78-10.2-10.84-10.52-20.42-1.08-41.35.29-62.69,3.34-5.5.85-10.92,6.22-10.73,11.42.43,10.72,3,21.74,6.9,33.01,1.6,4.49,6.18,8.21,10.52,8.61Z" fill="none" stroke="#263238" stroke-miterlimit="10" stroke-width="10"/><line x1="177.03" y1="203.97" x2="147.59" y2="203.97" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><line x1="405.72" y1="203.97" x2="376.28" y2="203.97" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M231.44,109.75c-1.57.92-3.2,1.95-4.87,3.1-2.11,1.45-4.03,2.91-5.76,4.32" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M321.64,109.75c1.57.92,3.2,1.95,4.87,3.1,2.11,1.45,4.03,2.91,5.76,4.32" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M162.86,78.15c6.74,3.49,19.08,10.45,29.29,20.08,4.35,4.09,6.97,7.28,8.84,10.36,2.98,4.92,4.9,9.65,6.18,13.72-3.47-.37-8.69-.51-14.79.9-7.1,1.65-12.29,4.68-15.33,6.78,1.3.4,3.64,1.3,5.89,3.33,2.12,1.91,3.22,3.96,3.76,5.18-4.29,3.18-9.56,7.77-14.59,14.11-.61.78-1.2,1.55-1.76,2.31-2.66,3.61-4.7,7.07-6.29,10.12-1.77-3.29-3.9-8.34-4.13-14.59-.5-13.6,8.49-20.68,11.96-31.59,2.7-8.51,2.71-21.4-9.02-40.71Z" fill="#fff"/><path d="M162.86,78.15c6.74,3.49,19.08,10.45,29.29,20.08,4.35,4.09,6.97,7.28,8.84,10.36,2.98,4.92,4.9,9.65,6.18,13.72-3.47-.37-8.69-.51-14.79.9-7.1,1.65-12.29,4.68-15.33,6.78,1.3.4,3.64,1.3,5.89,3.33,2.12,1.91,3.22,3.96,3.76,5.18-4.29,3.18-9.56,7.77-14.59,14.11-.9,1.14-1.76,2.31-1.76,2.31-2.93,4-4.96,7.56-6.29,10.12" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M390.22,78.15c-6.74,3.49-19.08,10.45-29.29,20.08-4.35,4.09-6.97,7.28-8.84,10.36-2.98,4.92-4.9,9.65-6.18,13.72,3.47-.37,8.69-.51,14.79.9,7.1,1.65,12.29,4.68,15.33,6.78-1.3.4-3.64,1.3-5.89,3.33-2.12,1.91-3.22,3.96-3.76,5.18,4.29,3.18,9.56,7.77,14.59,14.11.61.78,1.2,1.55,1.76,2.31,2.66,3.61,4.7,7.07,6.29,10.12,1.77-3.29,3.9-8.34,4.13-14.59.5-13.6-8.49-20.68-11.96-31.59-2.7-8.51-2.71-21.4,9.02-40.71Z" fill="#fff"/><path d="M390.22,78.15c-6.74,3.49-19.08,10.45-29.29,20.08-4.35,4.09-6.97,7.28-8.84,10.36-2.98,4.92-4.9,9.65-6.18,13.72,3.47-.37,8.69-.51,14.79.9,7.1,1.65,12.29,4.68,15.33,6.78-1.3.4-3.64,1.3-5.89,3.33-2.12,1.91-3.22,3.96-3.76,5.18,4.29,3.18,9.56,7.77,14.59,14.11.9,1.14,1.76,2.31,1.76,2.31,2.93,4,4.96,7.56,6.29,10.12" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M397.14,179.84s0,.01,0,.01c2.89,5.71,5.75,12.02,8.41,18.92,4.54,11.72,7.58,22.67,9.66,32.36-.36-.39-.75-.8-1.19-1.23-.42-.43-.89-.88-1.39-1.33-1.67-1.51-3.73-3.12-6.23-4.58-2.79-1.62-5.41-2.67-7.58-3.36h0c2.47,7.55,4.85,16.57,6.46,26.9h0c.12.81.24,1.61.35,2.4.11.79.22,1.57.31,2.35.1.78.19,1.55.28,2.31.1.87.19,1.72.26,2.56.07.66.13,1.32.18,1.96.07.74.13,1.48.18,2.21.05.73.1,1.45.14,2.16s.08,1.42.11,2.12c.03.69.06,1.38.09,2.06.02.69.04,1.37.05,2.04.02.59.03,1.17.04,1.74.03,2.21,0,4.34-.04,6.36-.17-.18-.35-.37-.54-.57-.15-.17-.32-.34-.5-.51-.85-.87-1.86-1.79-3.02-2.72-.23-.2-.47-.39-.72-.58-1.16-.89-2.46-1.78-3.9-2.62-3.14-1.84-6.07-2.96-8.41-3.65h0c2.74,7.11,6.07,18.25,6.45,32.22.37,13.69-2.22,24.78-4.48,31.95-1.77-3.98-3.72-8.1-5.9-12.32-1.09-2.13-2.19-4.2-3.3-6.2-.23-.44-.47-.86-.72-1.3-6.86,15.55-14.91,26.2-22.38,33.6-2.49,2.47-4.92,4.58-7.21,6.39-1.32,1.03-2.58,1.96-3.8,2.81-20.05,14.02-36.11,12.15-54.22,28.17-.76.67-1.48,1.35-2.14,2.04-10.09,10.28-10.97,22.2-14.33,31.29-.09.24-.21.46-.35.65-.08.09-.16.18-.24.26,0,0-.01,0-.01.01-.08.07-.17.15-.27.21-.19.14-.41.25-.64.32-.02,0-.03.01-.05.01s-.03-.01-.05-.01c-.23-.07-.45-.18-.64-.32-.1-.06-.19-.14-.27-.21,0-.01,0-.01,0-.01-.08-.08-.16-.17-.24-.26-.14-.19-.26-.41-.35-.65-3.36-9.09-4.24-21.01-14.33-31.29-.66-.69-1.38-1.37-2.14-2.04-18.11-16.02-34.17-14.15-54.22-28.17-1.22-.85-2.48-1.78-3.8-2.81-2.29-1.81-4.72-3.92-7.21-6.39-7.47-7.4-15.52-18.05-22.38-33.6-.25.44-.49.86-.72,1.3-1.11,2-2.21,4.07-3.3,6.2-2.18,4.22-4.13,8.34-5.9,12.32-2.26-7.17-4.85-18.26-4.48-31.95.38-13.97,3.71-25.11,6.45-32.21h0c-2.34.68-5.27,1.8-8.41,3.64-1.44.84-2.74,1.73-3.9,2.62-.25.19-.49.38-.72.58-1.16.93-2.17,1.85-3.02,2.72-.18.17-.35.34-.5.51-.19.2-.37.39-.54.57-.05-2.02-.07-4.15-.04-6.36,0-.57.02-1.15.04-1.74,0-.67.03-1.35.05-2.04.03-.68.06-1.37.09-2.06.03-.7.07-1.41.11-2.12s.09-1.43.14-2.16c.05-.73.11-1.47.18-2.21.05-.64.11-1.3.18-1.96.07-.84.16-1.69.26-2.56.09-.76.18-1.53.28-2.31.09-.78.2-1.56.31-2.35.11-.79.23-1.59.35-2.39h0c1.61-10.34,3.99-19.36,6.46-26.9h0c-2.17.68-4.79,1.73-7.58,3.35-2.5,1.46-4.56,3.07-6.23,4.58-.5.45-.97.9-1.39,1.33-.44.43-.83.84-1.19,1.23,2.08-9.69,5.12-20.64,9.66-32.36,2.66-6.9,5.52-13.21,8.41-18.92,0,0,0,0,0-.01-1.48-.95-3.45-2.32-5.64-4.18,0,0-9.49-6.6-13.68-17.34-7.6-19.45,7.38-32.64,3.7-58.37,0,0-1.47-12.33-1.42-25.87,0-2.48.22-5.29.78-8.96.14-.98.3-1.95.49-2.91,2.28-12.59,20.4-18.63,29.42-9.89,2.56,2.47,5.13,4.48,7.64,6.12.54.35,1.07.68,1.59,1,.22.13.44.26.66.39,0,.01.03.02.04.03.21.12.42.24.63.36.15.08.29.16.43.24.12.06.24.13.35.19.13.07.26.14.39.21.12.06.23.12.35.18,7.99,4.15,12.23,6.27,16.42,8.9h0s.02.02.03.03c.44.27,4.1,2.55,8.39,5.87,6.29,4.87,12.23,11.57,16.75,17.94s7.6,12.41,8.17,15.97c21.12-14.47,75.32-10.63,90.2,0,2.45-4.92,12.34-24.18,24.92-33.91,4.57-3.54,8.43-5.9,8.43-5.9,4.19-2.63,8.43-4.75,16.42-8.9,1.44-.75,2.92-1.61,4.44-2.6,2.51-1.64,5.08-3.65,7.64-6.12,9.02-8.74,27.14-2.7,29.42,9.89.19.96.35,1.93.49,2.91.56,3.67.77,6.48.78,8.96.05,13.54-1.42,25.87-1.42,25.87-3.68,25.73,11.3,38.92,3.7,58.37-4.19,10.74-13.68,17.34-13.68,17.34-2.19,1.86-4.16,3.23-5.64,4.18Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M301.65,226.37c0,11.77-11.24,21.32-25.11,21.32s-25.11-9.54-25.11-21.32c0-8.26,12.35-15.42,19.73-18.96,3.4-1.63,7.36-1.63,10.76,0,7.38,3.54,19.73,10.7,19.73,18.96Z" fill="#263238" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M301.51,38.75c-9.22,0-17.61,3.53-23.91,9.31-6.29-5.78-14.69-9.31-23.91-9.31-19.53,0-35.36,15.83-35.36,35.36s15.83,35.36,35.36,35.36c9.22,0,17.61-3.53,23.91-9.31,6.29,5.78,14.69,9.31,23.91,9.31,19.53,0,35.36-15.83,35.36-35.36s-15.83-35.36-35.36-35.36Z" fill="#1565c0" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/><path d="M352.82,35.83l-20.55,81.34h-111.7l-20.55-81.34,32.24,20.5c-1.9,2.98-3.01,6.53-3.01,10.33,0,10.62,8.62,19.24,19.25,19.24s19.23-8.62,19.23-19.24c0-7.8-4.63-14.51-11.3-17.53l19.55-43.15.44-.97,19.99,44.12c-6.67,3.02-11.31,9.73-11.31,17.53,0,10.62,8.62,19.24,19.24,19.24s19.24-8.62,19.24-19.24c0-3.8-1.1-7.35-3.01-10.33l32.25-20.5Z" fill="#fff176"/><path d="M352.82,35.83l-20.55,81.34h-56.29V5.98l.44-.97,19.99,44.12c-6.67,3.02-11.31,9.73-11.31,17.53,0,10.62,8.62,19.24,19.24,19.24s19.24-8.62,19.24-19.24c0-3.8-1.1-7.35-3.01-10.33l32.25-20.5Z" fill="#ffb74d"/><path d="M352.82,35.83l-20.55,81.35h-111.7l-20.55-81.35,32.24,20.51c-1.9,2.98-3,6.53-3,10.32,0,10.62,8.62,19.24,19.24,19.24s19.24-8.62,19.24-19.24c0-7.79-4.64-14.51-11.3-17.52l19.99-44.12v-.02s19.99,44.14,19.99,44.14c-6.67,3.02-11.31,9.73-11.31,17.52,0,10.62,8.62,19.24,19.24,19.24s19.24-8.62,19.24-19.24c0-3.79-1.1-7.34-3-10.32l32.25-20.51Z" fill="none" stroke="#263238" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/></g></svg>
  </g>`;
}

export type Symbol = "circle" | "square" | "triangle" | "diamond";
export type Value =
  | "A"
  | "2"
  | "3"
  | "4"
  | "5"
  | "6"
  | "7"
  | "8"
  | "9"
  | "10"
  | "J"
  | "Q"
  | "K";

const values: Value[] = [
  "A",
  "2",
  "3",
  "4",
  "5",
  "6",
  "7",
  "8",
  "9",
  "10",
  "J",
  "Q",
  "K",
];

export interface Suit {
  name: string;
  accessibilityName: string;
  symbol: Symbol;
  color: string;
}

export const CIRCLES: Suit = {
  name: "Circles",
  accessibilityName: "hearts",
  symbol: "circle",
  color: "#E69F00",
};

export const SQUARES: Suit = {
  name: "Squares",
  accessibilityName: "spades",
  symbol: "square",
  color: "#009E73",
};

export const TRIANGLES: Suit = {
  name: "Triangles",
  accessibilityName: "clubs",
  symbol: "triangle",
  color: "#0072B2",
};

export const DIAMONDS: Suit = {
  name: "Diamonds",
  accessibilityName: "diamonds",
  symbol: "diamond",
  color: "#CC79A7",
};

const suits: Suit[] = [CIRCLES, SQUARES, TRIANGLES, DIAMONDS];

function createCardBase() {
  return `<rect
    id="card-base"
    x="${borderWidth / 2}"
    y="${borderWidth / 2}"
    width="${cardWidth - borderWidth}"
    height="${cardHeight - borderWidth}"
    rx="${cardCornerRadius}"
    fill="white"
    stroke="#aaaaaa"
    stroke-width="${borderWidth}"
  />`;
}

// Function to create suit symbols
function createSymbol(
  symbol: Symbol,
  x: number,
  y: number,
  size: number,
  color: string,
  rotation?: number
) {
  let transform = "";
  if (rotation) {
    transform = `transform="rotate(${rotation}, ${x}, ${y})"`;
  }
  let yNudge = 0;
  if (symbol === "triangle" && rotation) {
    yNudge = -(size / 6);
  }
  switch (symbol) {
    case "circle":
      return `<circle cx="${x}" cy="${y}" r="${
        size / 2
      }" fill="${color}" ${transform} />`;
    case "square":
      return `<rect x="${x - size / 2}" y="${
        y - size / 2
      }" width="${size}" height="${size}" fill="${color}" ${transform} />`;
    case "triangle":
      return `<polygon points="${x},${y - size / 2 + yNudge} ${x + size / 2},${
        y + size / 2 + yNudge
      } ${x - size / 2},${
        y + size / 2 + yNudge
      }" fill="${color}" ${transform} />`;
    case "diamond":
      return `<polygon points="${x},${y - size / 2} ${x + size / 2},${y} ${x},${
        y + size / 2
      } ${x - size / 2},${y}" fill="${color}" ${transform} />`;
    default:
      return "";
  }
}

function createCornerLabel(
  value: Value,
  symbol: Symbol,
  color: string,
  x: number,
  y: number,
  flip: boolean = false
) {
  if (flip) {
  }
  let transform = "";
  if (flip) {
    transform = `transform="rotate(180, ${cardWidth / 2}, ${cardHeight / 2})"`;
  }
  return `
    <g ${transform}>
    <text x="${x}" y="${y}" font-family="Arial" font-weight="bold" font-size="${fontSize}" fill="${color}" text-anchor="middle">${value}</text>
    ${createSymbol(symbol, x, y + fontSize / 1.5, fontSize * 0.8, color)}
    </g>
  `;
}

function generateNumberPattern(symbol: Symbol, value: Value, color: string) {
  const scale = (symbolScales[value] || 1) * symbolScaleMultiplier[symbol];
  let pattern = `<g transform="${createTransformMatrix(
    cardWidth / 2,
    cardHeight / 2,
    scale
  )}">`;

  if (!symbolPositions[value]) {
    throw new Error(`No symbol positions defined for value ${value}`);
  }

  // Generate symbols at defined positions
  for (const [x, y, rotate] of symbolPositions[value]) {
    pattern += createSymbol(
      symbol,
      x,
      y,
      cardWidth * symbolSize[symbol],
      color,
      rotate
    );
  }

  pattern += "</g>";

  return pattern;
}

function createTransformMatrix(
  offsetX: number,
  offsetY: number,
  scale: number
) {
  const tx = offsetX - scale * offsetX;
  const ty = offsetY - scale * offsetY;
  return `matrix(${scale}, 0, 0, ${scale}, ${tx}, ${ty})`;
}

function accessibilityValueName(value: Value) {
  switch (value) {
    case "A":
      return "Ace";
    case "J":
      return "Jack";
    case "Q":
      return "Queen";
    case "K":
      return "King";
    default:
      return value;
  }
}

function generateCard(suit: Suit, value: Value, rotate = 0) {
  const { symbol, color } = suit;

  let cardSvg = `<svg viewBox="0 0 ${cardWidth} ${cardHeight}" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="${accessibilityValueName(
    value
  )} of ${suit.accessibilityName}">`;
  cardSvg += `<g transform="rotate(${rotate}, ${cardWidth / 2}, ${
    cardHeight / 2
  })">`;
  cardSvg += createCardBase();

  cardSvg += createCornerLabel(
    value,
    symbol,
    color,
    fontSize * 1.1,
    fontSize * 1.5
  );
  cardSvg += createCornerLabel(
    value,
    symbol,
    color,
    fontSize * 1.1,
    fontSize * 1.5,
    true
  );

  if (value === "J") {
    const width = cardWidth * dogWidth[value];
    const height = (HaskieHeight / HaskieWidth) * width;
    const x = cardWidth / 2 - width / 2;
    const y = cardHeight / 2 - height / 2;
    cardSvg += Haskie({ width, height, x, y });
  } else if (value === "Q") {
    const width = cardWidth * dogWidth[value];
    const height = (DoeHeight / DoeWidth) * width;
    const x = cardWidth / 2 - width / 2;
    const y = cardHeight / 2 - height / 2;
    cardSvg += Doe({ width, height, x, y });
  } else if (value === "K") {
    const width = cardWidth * dogWidth[value];
    const height = (SageHeight / SageWidth) * width;
    const x = cardWidth / 2 - width / 2;
    const y = cardHeight / 2 - height / 2;
    cardSvg += Sage({ width, height, x, y });
  } else {
    cardSvg += generateNumberPattern(symbol, value, color);
  }

  cardSvg += "</g>";
  cardSvg += "</svg>";

  return cardSvg;
}

function generateCardBack() {
  const outerPadding = 15;
  const innerPadding = 2;
  let svg = `<svg viewBox="0 0 ${cardWidth} ${cardHeight}" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Card Back">`;
  svg += createCardBase();

  const grid = [
    ["#5dceba", "#d83712"],
    ["#5b3314", "#5dceba"],
    ["#5b3314", "#5b3314"],
  ];
  const numRows = grid.length;
  const numCols = grid[0].length;

  const totalInnerPaddingX = (numCols - 1) * innerPadding;
  const totalInnerPaddingY = (numRows - 1) * innerPadding;

  const xStep = (cardWidth - 2 * outerPadding - totalInnerPaddingX) / numCols;
  const yStep = (cardHeight - 2 * outerPadding - totalInnerPaddingY) / numRows;

  const xStart = outerPadding;
  const yStart = outerPadding;

  const rx = Math.min(cardCornerRadius, xStep / 2, yStep / 2);

  for (const [i, row] of grid.entries()) {
    for (const [j, color] of row.entries()) {
      const x = xStart + j * (xStep + innerPadding);
      const y = yStart + i * (yStep + innerPadding);
      svg += `<rect x="${x}" y="${y}" width="${xStep}" height="${yStep}" fill="${color}" rx="${rx}" />`;
    }
  }

  return toSvg(svg + "</svg>");
}

function allCardsSvg() {
  let svg = `<svg width="${cardWidth * values.length}" height="${
    cardHeight * suits.length * 2
  }" xmlns="http://www.w3.org/2000/svg">`;
  for (const [i, suit] of suits.entries()) {
    for (const [j, value] of values.entries()) {
      svg += `<g transform="translate(${j * cardWidth}, ${
        i * cardHeight
      })">${generateCard(suit, value)}</g>`;
    }
  }

  // generate the deck again with teh cards flipped 180
  for (const [i, suit] of suits.entries()) {
    for (const [j, value] of values.entries()) {
      svg += `<g transform="translate(${j * cardWidth}, ${
        (i + suits.length) * cardHeight
      })">${generateCard(suit, value, 180)}</g>`;
    }
  }

  svg += "</svg>";
  return svg;
}

export interface Card {
  suit: Suit;
  value: Value;
}

export interface CardSvg extends Card {
  svg: SVGElement;
}

export type Deck = CardSvg[];

function createDeck(): Deck {
  let deck: Deck = [];
  for (const suit of suits) {
    for (const value of values) {
      deck.push({ suit, value, svg: toSvg(generateCard(suit, value)) });
    }
  }
  return deck;
}

export function createCard(suit: Suit, value: Value): CardSvg {
  const svg = toSvg(generateCard(suit, value));
  return { suit, value, svg };
}

export const deck = createDeck();
export const back = generateCardBack();

function wrap(card: string, showGuides = false) {
  if (showGuides) {
    return `
<svg xmlns="http://www.w3.org/2000/svg" width="68.99977mm" height="94.00046mm" viewBox="0 0 195.5899 266.458">
  <title>Poker Card</title>
  <g id="Bleed">
    <rect width="195.5899" height="266.458" style="fill: #009fe3"/>
  </g>
  <g id="Final_Size" data-name="Final Size">
    <rect x="8.50395" y="8.50488" width="178.58205" height="249.44822" rx="8.5039" ry="8.5039" style="fill: #fff;stroke: #1d1d1b;stroke-linejoin: bevel;stroke-width: 0.5px"/>
    <g transform="translate(8.50395 8.50488)">
      ${card}
    </g>
  </g>
  <g id="Guides">
    <path d="M28.3468,22.6777H167.2437a5.6694,5.6694,0,0,1,5.6694,5.6694V238.1108a5.6695,5.6695,0,0,1-5.6695,5.6695H28.3463a5.6695,5.6695,0,0,1-5.6695-5.6695V28.3477a5.67,5.67,0,0,1,5.67-5.67Z" style="fill: none;stroke: #e6007e;stroke-width: 0.5px"/>
  </g>
</svg>
`;
  } else {
    return `
<svg xmlns="http://www.w3.org/2000/svg" width="68.99977mm" height="94.00046mm" viewBox="0 0 195.5899 266.458">
  <title>Poker Card</title>
  <g id="Final_Size" data-name="Final Size">
    <g transform="translate(8.50395 8.50488)">
      ${card}
    </g>
  </g>
</svg>
`;
  }
}

// for (const card of deck) {
//   const { value, suit, svg } = card;
//   fs.writeFileSync(
//     `deck/${value}${suit.name.charAt(0).toUpperCase()}.svg`,
//     wrap(svg, false)
//   );
// }
//
// fs.writeFileSync("deck/back.svg", wrap(back, false));
//
// fs.writeFileSync("card.svg", allCardsSvg());
// fs.writeFileSync("back.svg", back);
//
